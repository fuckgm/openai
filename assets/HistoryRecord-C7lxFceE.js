import{u as p,a as N,r as i,_ as r,t as a,j as s,F as f,B as d,L as x,b as y,f as w}from"./index-CcjdykQ_.js";import{T as m}from"./TTSButton-BnxDMtQo.js";function k(){const{i18n:h}=p(),{history:{historyRecords:l,setHistoryRecords:c},configValues:{gender:o}}=N(),u=i.useCallback(e=>{document.activeElement.blur(),c(n=>n.filter(t=>t.id!==e)),r.success(a("Delete history record successfully."))},[c]),b=i.useCallback(()=>{document.activeElement.blur(),c([]),r.success(a("Clear history records successfully."))},[c]),j=i.useCallback(e=>{document.activeElement.blur();const n=l.find(t=>t.id===e);n&&(navigator.clipboard.writeText(n.text),r.success(a("Copy original text successfully.")))},[l]),g=i.useCallback(e=>{document.activeElement.blur();const n=l.find(t=>t.id===e);n&&(navigator.clipboard.writeText(n.translation),r.success(a("Copy translation successfully.")))},[l]);return s.jsxs("div",{className:"container max-w-screen-md p-4 m-0 mb-12 md:mx-auto",children:[s.jsxs("h1",{className:"flex justify-between w-full text-2xl font-bold align-middle bg-base-100",children:[s.jsx("span",{className:"leading-[48px]",children:a("History Record")}),!!l&&!!l.length&&s.jsxs("div",{className:"dropdown dropdown-end",children:[s.jsxs("label",{tabIndex:0,className:"ml-6 btn-outline btn btn-error btn-xs",children:[s.jsx(f,{size:12,className:"mr-2"}),a("Clear All")]}),s.jsx("div",{tabIndex:0,className:"w-64 p-2 shadow dropdown-content card card-compact bg-warning text-warning-content z-50",children:s.jsxs("div",{className:"card-body",children:[s.jsx("h3",{className:"card-title",children:a("Notice!")}),s.jsx("p",{children:a("Do you really want to clear all history?")}),s.jsxs("div",{className:"flex justify-end",children:[s.jsx(d,{size:"sm",color:"ghost",onClick:()=>document.activeElement.blur(),children:a("Cancel")}),s.jsx(d,{size:"sm",color:"error",className:"ml-2",onClick:b,children:a("Yes")})]})]})})]})]}),s.jsxs("ul",{className:"text-base-content",children:[!!l&&!!l.length&&l.map(e=>s.jsxs("li",{className:"my-2",children:[s.jsxs("div",{className:"chat chat-end",children:[s.jsxs("div",{className:"chat-header",children:[s.jsxs("span",{children:[s.jsx("span",{className:"font-bold",children:x[e.fromLanguage]||e.fromLanguage||"Auto"}),s.jsx("span",{className:"mx-2",children:"â†’"}),s.jsx("span",{className:"font-bold",children:x[e.toLanguage]||e.fromLanguage||"Auto"}),s.jsxs("div",{className:"dropdown dropdown-end z-[1]",children:[s.jsx("label",{tabIndex:0,className:"mx-1 btn btn-sm btn-ghost btn-circle",children:s.jsx(y,{size:8})}),s.jsxs("ul",{tabIndex:0,className:"p-2 shadow dropdown-content menu bg-base-100 rounded-box w-52",children:[s.jsx("li",{children:s.jsx("a",{onClick:()=>u(e.id),className:"font-bold text-error",children:a("Delete this record")})}),s.jsx("li",{children:s.jsx("a",{onClick:()=>j(e.id),children:a("Copy original text")})}),s.jsx("li",{children:s.jsx("a",{onClick:()=>g(e.id),children:a("Copy translation")})})]})]})]}),s.jsx("time",{className:"text-xs leading-8 opacity-50",children:w(e.createdAt,h.language||"en-US")})]}),s.jsxs("div",{className:"chat-bubble whitespace-pre-line break-words",children:[e.text,s.jsx(m,{language:e.fromLanguage,text:e.text,size:"xs",className:"ml-1",gender:o})]})]}),s.jsx("div",{className:"chat chat-start",children:s.jsxs("div",{className:"chat-bubble chat-bubble-info whitespace-pre-line break-words",children:[e.translation,s.jsx(m,{language:e.toLanguage,text:e.translation,size:"xs",className:"ml-1",gender:o})]})})]},e.id)),!(l!=null&&l.length)&&s.jsx("p",{className:"",children:a("No history record.")})]})]})}export{k as default};
